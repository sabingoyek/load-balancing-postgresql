#! /bin/bash

createuser -S -D -R -P dbuser
echo "User created"
createdb paasdb -O dbuser
echo "Database created"

psql -d paasdb -c \
"CREATE TABLE users(
  id integer PRIMARY KEY,
  \"user\" json
);"

psql -d paasdb -c \
"CREATE TABLE apps(
	id integer PRIMARY KEY,
	app json,
	userid integer REFERENCES users(id)
);"

# Ajout d'elements jusqu'a saturation
#utilise les commandes d'insertin sql par fichier
psql -d paasdb -c \
'INSERT INTO users VALUES
(1,\'{"fname":"f1","lname": "l1"}\'),
(2,\'{"fname":"f2","lname": "l2"}\'),
(3,\'{"fname":"f3","lname": "l3"}\'),
(4,\'{"fname":"f4","lname": "l4"}\'),
(5,\'{"fname":"f5","lname": "l5"}\'),
(6,\'{"fname":"f6","lname": "l6"}\'),
(7,\'{"fname":"f7","lname": "l7"}\'),
(8,\'{"fname":"f8","lname": "l8"}\'),
(9,\'{"fname":"f9","lname": "l9"}\'),
(10,\'{"fname":"f10","lname": "l10"}\'),
(11,\'{"fname":"f11","lname": "l11"}\'),
(12,\'{"fname":"f12","lname": "l12"}\'),
(13,\'{"fname":"f13","lname": "l13"}\'),
(14,\'{"fname":"f14","lname": "l14"}\'),
(15,\'{"fname":"f15","lname": "l15"}\'),
(16,\'{"fname":"f16","lname": "l16"}\'),
(17,\'{"fname":"f17","lname": "l17"}\'),
(18,\'{"fname":"f18","lname": "l18"}\'),
(19,\'{"fname":"f19","lname": "l19"}\'),
(20,\'{"fname":"f20","lname": "l20"}\'),
(21,\'{"fname":"f21","lname": "l21"}\'),
(22,\'{"fname":"f22","lname": "l22"}\'),
(23,\'{"fname":"f23","lname": "l23"}\'),
(24,\'{"fname":"f24","lname": "l24"}\'),
(25,\'{"fname":"f25","lname": "l25"}\'),
(26,\'{"fname":"f26","lname": "l26"}\'),
(27,\'{"fname":"f27","lname": "l27"}\'),
(28,\'{"fname":"f28","lname": "l28"}\'),
(29,\'{"fname":"f29","lname": "l29"}\'),
(30,\'{"fname":"f30","lname": "l30"}\'),
(31,\'{"fname":"f31","lname": "l31"}\'),
(32,\'{"fname":"f32","lname": "l32"}\'),
(33,\'{"fname":"f33","lname": "l33"}\'),
(34,\'{"fname":"f34","lname": "l34"}\'),
(35,\'{"fname":"f35","lname": "l35"}\'),
(36,\'{"fname":"f36","lname": "l36"}\'),
(37,\'{"fname":"f37","lname": "l37"}\'),
(38,\'{"fname":"f38","lname": "l38"}\'),
(39,\'{"fname":"f39","lname": "l39"}\'),
(40,\'{"fname":"f40","lname": "l40"}\'),
(41,\'{"fname":"f41","lname": "l41"}\'),
(42,\'{"fname":"f42","lname": "l42"}\'),
(43,\'{"fname":"f43","lname": "l43"}\'),
(44,\'{"fname":"f44","lname": "l44"}\'),
(45,\'{"fname":"f45","lname": "l45"}\'),
(46,\'{"fname":"f46","lname": "l46"}\'),
(47,\'{"fname":"f47","lname": "l47"}\'),
(48,\'{"fname":"f48","lname": "l48"}\'),
(49,\'{"fname":"f49","lname": "l49"}\'),
(50,\'{"fname":"f50","lname": "l50"}\'),
(51,\'{"fname":"f51","lname": "l51"}\'),
(52,\'{"fname":"f52","lname": "l52"}\'),
(53,\'{"fname":"f53","lname": "l53"}\'),
(54,\'{"fname":"f54","lname": "l54"}\'),
(55,\'{"fname":"f55","lname": "l55"}\'),
(56,\'{"fname":"f56","lname": "l56"}\'),
(57,\'{"fname":"f57","lname": "l57"}\'),
(58,\'{"fname":"f58","lname": "l58"}\'),
(59,\'{"fname":"f59","lname": "l59"}\'),
(60,\'{"fname":"f60","lname": "l60"}\'),
(61,\'{"fname":"f61","lname": "l61"}\'),
(62,\'{"fname":"f62","lname": "l62"}\'),
(63,\'{"fname":"f63","lname": "l63"}\'),
(64,\'{"fname":"f64","lname": "l64"}\'),
(65,\'{"fname":"f65","lname": "l65"}\'),
(66,\'{"fname":"f66","lname": "l66"}\'),
(67,\'{"fname":"f67","lname": "l67"}\'),
(68,\'{"fname":"f68","lname": "l68"}\'),
(69,\'{"fname":"f69","lname": "l69"}\'),
(70,\'{"fname":"f70","lname": "l70"}\'),
(71,\'{"fname":"f71","lname": "l71"}\'),
(72,\'{"fname":"f72","lname": "l72"}\'),
(73,\'{"fname":"f73","lname": "l73"}\'),
(74,\'{"fname":"f74","lname": "l74"}\'),
(75,\'{"fname":"f75","lname": "l75"}\'),
(76,\'{"fname":"f76","lname": "l76"}\'),
(77,\'{"fname":"f77","lname": "l77"}\'),
(78,\'{"fname":"f78","lname": "l78"}\'),
(79,\'{"fname":"f79","lname": "l79"}\'),
(80,\'{"fname":"f80","lname": "l80"}\'),
(81,\'{"fname":"f81","lname": "l81"}\'),
(82,\'{"fname":"f82","lname": "l82"}\'),
(83,\'{"fname":"f83","lname": "l83"}\'),
(84,\'{"fname":"f84","lname": "l84"}\'),
(85,\'{"fname":"f85","lname": "l85"}\'),
(86,\'{"fname":"f86","lname": "l86"}\'),
(87,\'{"fname":"f87","lname": "l87"}\'),
(88,\'{"fname":"f88","lname": "l88"}\'),
(89,\'{"fname":"f89","lname": "l89"}\'),
(90,\'{"fname":"f90","lname": "l90"}\'),
(91,\'{"fname":"f91","lname": "l91"}\'),
(92,\'{"fname":"f92","lname": "l92"}\'),
(93,\'{"fname":"f93","lname": "l93"}\'),
(94,\'{"fname":"f94","lname": "l94"}\'),
(95,\'{"fname":"f95","lname": "l95"}\'),
(96,\'{"fname":"f96","lname": "l96"}\'),
(97,\'{"fname":"f97","lname": "l97"}\'),
(98,\'{"fname":"f98","lname": "l98"}\'),
(99,\'{"fname":"f99","lname": "l99"}\'),
(100,\'{"fname":"f100","lname": "l100"}\')
'
psql -d paasdb -c \
'INSERT INTO apps VALUES
(1,'{"name":"app1"}',2),
(2,'{"name":"app2"}',3),
(3,'{"name":"app3"}',4),
(4,'{"name":"app4"}',5),
(5,'{"name":"app5"}',6),
(6,'{"name":"app6"}',7),
(7,'{"name":"app7"}',8),
(8,'{"name":"app8"}',9),
(9,'{"name":"app9"}',10),
(10,'{"name":"app10"}',1),
(11,'{"name":"app11"}',2),
(12,'{"name":"app12"}',3),
(13,'{"name":"app13"}',4),
(14,'{"name":"app14"}',5),
(15,'{"name":"app15"}',6),
(16,'{"name":"app16"}',7),
(17,'{"name":"app17"}',8),
(18,'{"name":"app18"}',9),
(19,'{"name":"app19"}',10),
(20,'{"name":"app0"}',1),
(21,'{"name":"app1"}',2),
(22,'{"name":"app2"}',3),
(23,'{"name":"app3"}',4),
(24,'{"name":"app4"}',5),
(25,'{"name":"app5"}',6),
(26,'{"name":"app6"}',7),
(27,'{"name":"app7"}',8),
(28,'{"name":"app8"}',9),
(29,'{"name":"app9"}',10),
(30,'{"name":"app10"}',1),
(31,'{"name":"app11"}',2),
(32,'{"name":"app12"}',3),
(33,'{"name":"app13"}',4),
(34,'{"name":"app14"}',5),
(35,'{"name":"app15"}',6),
(36,'{"name":"app16"}',7),
(37,'{"name":"app17"}',8),
(38,'{"name":"app18"}',9),
(39,'{"name":"app19"}',10),
(40,'{"name":"app0"}',1),
(41,'{"name":"app1"}',2),
(42,'{"name":"app2"}',3),
(43,'{"name":"app3"}',4),
(44,'{"name":"app4"}',5),
(45,'{"name":"app5"}',6),
(46,'{"name":"app6"}',7),
(47,'{"name":"app7"}',8),
(48,'{"name":"app8"}',9),
(49,'{"name":"app9"}',10),
(50,'{"name":"app10"}',1),
(51,'{"name":"app11"}',2),
(52,'{"name":"app12"}',3),
(53,'{"name":"app13"}',4),
(54,'{"name":"app14"}',5),
(55,'{"name":"app15"}',6),
(56,'{"name":"app16"}',7),
(57,'{"name":"app17"}',8),
(58,'{"name":"app18"}',9),
(59,'{"name":"app19"}',10),
(60,'{"name":"app0"}',1),
(61,'{"name":"app1"}',2),
(62,'{"name":"app2"}',3),
(63,'{"name":"app3"}',4),
(64,'{"name":"app4"}',5),
(65,'{"name":"app5"}',6),
(66,'{"name":"app6"}',7),
(67,'{"name":"app7"}',8),
(68,'{"name":"app8"}',9),
(69,'{"name":"app9"}',10),
(70,'{"name":"app10"}',1),
(71,'{"name":"app11"}',2),
(72,'{"name":"app12"}',3),
(73,'{"name":"app13"}',4),
(74,'{"name":"app14"}',5),
(75,'{"name":"app15"}',6),
(76,'{"name":"app16"}',7),
(77,'{"name":"app17"}',8),
(78,'{"name":"app18"}',9),
(79,'{"name":"app19"}',10),
(80,'{"name":"app0"}',1),
(81,'{"name":"app1"}',2),
(82,'{"name":"app2"}',3),
(83,'{"name":"app3"}',4),
(84,'{"name":"app4"}',5),
(85,'{"name":"app5"}',6),
(86,'{"name":"app6"}',7),
(87,'{"name":"app7"}',8),
(88,'{"name":"app8"}',9),
(89,'{"name":"app9"}',10),
(90,'{"name":"app10"}',1),
(91,'{"name":"app11"}',2),
(92,'{"name":"app12"}',3),
(93,'{"name":"app13"}',4),
(94,'{"name":"app14"}',5),
(95,'{"name":"app15"}',6),
(96,'{"name":"app16"}',7),
(97,'{"name":"app17"}',8),
(98,'{"name":"app18"}',9),
(99,'{"name":"app19"}',10),
(100,'{"name":"app0"}',1)
'